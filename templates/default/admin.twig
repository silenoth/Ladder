{% embed '_header.twig' %}
    {% block titulo %}
        <title>Administracion</title>
    {% endblock %}
    {% block css %}
        <link rel="stylesheet" href="{{url}}/plugins/editor/minified/themes/default.css" type="text/css" media="all" />
        <link rel="stylesheet" href="{{url}}/css/bootstrap-multiselect.css" type="text/css" />
    {% endblock %}
    {% block js %}
        <script src="{{url}}/js/bootstrapValidator.js" type="text/javascript"></script>
        <script type="text/javascript" src="{{url}}/js/bootstrap.file-input.js"></script>
        <script type="text/javascript" src="{{url}}/js/bootstrap-multiselect.js"></script>
    {% endblock %}
{% endembed %}
{#TABS#}
<ul class="nav nav-tabs">
  <li class="active"><a href="#home" data-toggle="tab">Home</a></li>
  <li><a href="#profile" data-toggle="tab">Profile</a></li>
  <li><a href="#messages" data-toggle="tab">Messages</a></li>
  <li><a href="#settings" data-toggle="tab">Settings</a></li>
</ul>
{#TABS PANELS#}
<div class="tab-content">
  <div class="tab-pane fade in active" id="home">
        <div class="row" style="padding-left:20px;">
          <div class="col-xs-12 col-md-8">
            <h2>Agregar noticia</h2>
            <form name="noticia" id="noticia" method="post" role="form" class="form-horizontal" enctype="multipart/form-data">
                <div class="form-group">
                    <input type="text" name="titulo" id="titulo" class="form-control" placeholder="Ingresa un titulo" required="required" />
                </div>
                <div class="form-group">
                    <input type="file" name="file" id="file" class="btn-primary" title="Subir imagen preliminar" /><br /><span>La imagen debe ser de 260x130 px</span>
                </div>
                <div class="form-group">
                    <textarea name="preview" id="preview" style="width:100%; height:200px;"></textarea>
                    <script>
                        $(function() {
                            $("#preview").sceditor({
                                plugins: "bbcode"
                            });
                        });
                    </script>
                </div>
                <div class="form-group">
                    <textarea name="contenido" id="contenido" style="width:100%; height:200px;"></textarea>
                    <script>
                        $(function() {
                            $("#contenido").sceditor({
                                plugins: "bbcode"
                            });
                        });
                    </script>
                </div>
                <div class="form-group">
                    <select class="form-control" name="categoria">
                        <option value="0" disabled="disabled" selected="selected">Selecciona una categoría</option>
                        {%for categorias in ls.cat%}
                        <option value="{{categorias.id}}">{{categorias.nombre}}</option>
                        {%endfor%}
                    </select>
                </div>
                <div class="form-group">
                    <input type="checkbox" id="activa" name="activa" checked="checked" onclick="if(this.checked==true){this.value=1;}else {this.value=0;}" data-toggle="tooltip" data-placement="top" title="Hacer pública" /> Mostrar noticia en el indice
                </div>
                <input type="hidden" name="addnews" value="1" />
                <button class="btn btn-primary" name="enviar" id="enviar" type="submit">Agregar noticia</button>
            </form>
          </div>
          <div class="col-xs-6 col-md-4">
          <p>Agrega contenido nuevo cada día, manten actualizada la página con noticias frescas tu usuarios lo agradecerán.</p>
              <ul>
                <li>Titulo: Tiene que ser un titulo que atraiga al publico cuando lo vea. No puede exeder los 50 caracteres.</li>
                <li>Imagen: Agregua una imagen que identifique la noticia. Formatos permitidos *.jpg, *.png, *.gif</li>
                <li>Preview: Crea un resumen atractivo para que los usuarios les den ganas de leer la noticia completa. No puede exeder de los 500 caracteres.</li>
                <li>Contenido: Agrega imagenes, videos o solo texto, se libre usa tu imaginación.</li>
              </ul>
          </div>
        </div>
  </div>
  <div class="tab-pane fade" id="profile">
  
  </div>
  <div class="tab-pane fade" id="messages">
  
  </div>
  <div class="tab-pane fade" id="settings">
  
  </div>
</div>
<script>
$('input[type=file]').bootstrapFileInput();
$(document).ready(function() {
    $('#noticia').bootstrapValidator({
        message: 'Este valor no es valido',
        feedbackIcons: {
            valid: 'glyphicon glyphicon-ok',
            invalid: 'glyphicon glyphicon-remove',
            validating: 'glyphicon glyphicon-refresh'
        },
        fields: {
          titulo: {
                validators: {
                    notEmpty: {
                        message: 'Este campo no puede quedar vacío'
                    }
                }
            },
          preview: {
                message: 'Preview no es valida',
                validators: {
                    notEmpty: {
                        message: 'Este campo no puede quedar vacío'
                    },
                    stringLength: {
                        min: 100,
                        max: 500,
                        message: 'Debe tener al menos 100 caractares y maximo 500 caracteres'
                    }
                }
            },
          categoria: {
                validators: {
                    notEmpty: {
                        message: 'Elije una categoria'
                    }
                }
          }           
        /********/
        }
    });
    
    $('#noticia')
    .find('[name="categoria"]')
    .multiselect()
    .end()
});
</script>
{% include '_footer.twig' %}